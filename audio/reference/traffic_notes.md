# USB Audio Traffic Capture Analysis
This is the analysis of the [USB packet capture](usb_record_traffic.pcapng)
generated by Wireshark when connecting and recording from a Logitech C170 Webcam

## Traffic Sequence
1. Descriptors
  1. Device
  2. Configuration (once per configuration)
  3. String (once per string table entry)
2. Set configuration to 1
3. Get string descriptor for device id
4. Set interface to 1
5. Get def request and response (video)
6. Set cur request and response (video)
7. Get string descriptor for device id x4
8. Set interface to 3 alternate setting 2
9. URB control out // ?
10. URB control in // ?
11. 8 - 10 repeated with alternate setting 3
12. Set interface to 3 alternate setting 0
13. Get string descriptor for device id
14. URB interrupt in
15. Set interface to 3 alternate setting 1
13. Get string descriptor for device id
14. [...] - more of the same
15. URB isochronous in sent every ~0.025ms
16. Device replies with an 80 byte packet with no data or 168 byte packet with
    data. Data is in USB isodesc -> ISO Data. Both are of type `URB_COMPLETE`
    and have a status of Success.

## Analysis
URB isochronous packets are where the actual audio data is transferred. The def
and cur packets can be ignored as they are video specific. URB is a USB Request
Block.

## References
[USB In a NutShell - Ch 6](http://www.beyondlogic.org/usbnutshell/usb6.shtml)
